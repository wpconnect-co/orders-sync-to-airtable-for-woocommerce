{"version":3,"file":"filters.js","sources":["../../../src/components/form/filters/Filters.types.ts","../../../src/components/form/filters/config.ts","../../../src/components/form/filters/helpers.ts","../../../src/components/form/filters/Filters.tsx"],"sourcesContent":["import {SelectOption} from \"../select/Select.types\";\nimport {InputType} from \"../input/Input\";\nimport {FetchJsonResult} from \"../../../types/air-wp-sync\";\n\nexport interface FetcherProps {\n\tfetchFn: (key:string, formData:FormData) => Promise<FetchJsonResult>\n}\n\nexport interface FilterGroupProps {\n\tconjunction: 'and' | 'or';\n\tfilters: (FilterProps|FilterGroupProps)[];\n}\n\nexport interface FiltersTexts {\n\taddFilterBtnText: string;\n\taddFilterGroupBtnText: string;\n\twhere: string;\n\tand: string;\n\tor: string;\n\tconjunction: string;\n\tmaxNestedFilterGroupReached: string;\n\tchecked: string,\n\tcompare: {\n\t\tcontains: string;\n\t\tdoes_not_contains: string;\n\t\tis: string;\n\t\tis_not: string;\n\t\tis_empty: string;\n\t\tis_not_empty: string;\n\t\tis_within: string;\n\t\tis_before: string;\n\t\tis_after: string;\n\t\tis_on_or_before: string;\n\t\tis_on_or_after: string;\n\t\tis_any_of: string;\n\t\tis_none_of: string;\n\t\thas_any_of: string;\n\t\thas_all_of: string;\n\t\tis_exactly: string;\n\t\thas_none_of: string;\n\t\tfilenames_contains: string;\n\t\thas_file_type: string;\n\t},\n\tselectFieldPlaceholder: string;\n\tselectComparisonPlaceholder: string;\n\tinputValuePlaceholder: string;\n\tperiods: {\n\t\tpast_week: string;\n\t\tpast_month: string;\n\t\tpast_year: string;\n\t\tnext_week: string;\n\t\tnext_month: string;\n\t\tnext_year: string;\n\t\tcalendar_week: string;\n\t\tcalendar_month: string;\n\t\tcalendar_year: string;\n\t\tnext_number_of_days: string;\n\t\tpast_number_of_days: string;\n\t\texact_date: string;\n\t\ttoday: string;\n\t\ttomorrow: string;\n\t\tyesterday: string;\n\t\tone_week_ago: string;\n\t\tone_week_from_now: string;\n\t\tone_month_ago: string;\n\t\tone_month_from_now: string;\n\t\tnumber_of_days_ago: string;\n\t\tnumber_of_days_from_now: string;\n\t},\n\tfile_types: {\n\t\timage: string;\n\t\ttext: string;\n\t}\n}\n\nexport interface FilterGroupInheritedProps extends FilterGroupProps, FetcherProps {\n\ttexts: FiltersTexts;\n\tdepth?: number;\n\tonChange: (props:FilterGroupProps) => void;\n\tairtableFilterOptions: FilterOption[];\n\tfiltersComparisonOptions: FiltersComparisonOptions;\n}\nexport enum FilterPropsOperators {\n\tGreaterThan = '>',\n\tIs = '=',\n\tIsNot = '!=',\n\tGreaterOrEqualThan = '>=',\n\tLesserThan = '<',\n\tLesserOrEqualThan = '<=',\n\tContains = 'contains',\n\tDoesNotContain = 'doesNotContain',\n\tIsEmpty = 'isEmpty',\n\tIsNotEmpty = 'isNotEmpty',\n\tIsWithin = 'isWithin',\n\tIsAnyOf = 'isAnyOf',\n\tIsNoneOf = 'isNoneOf',\n\tHasAnyOf = '|',\n\tHasAllOf = '&',\n\tHasNoneOf = 'hasNoneOf',\n\tFilename = 'filename',\n\tFiletype = 'filetype',\n\n}\n\nexport interface FilterProps {\n\tcolumnId: string;\n\tcolumnName: string;\n\toperator: FilterPropsOperators;\n\tvalue: string | string[] | PeriodValue;\n}\nexport interface FilterInheritedProps extends FilterProps, FetcherProps {\n\tairtableFilterOptions: FilterOption[];\n\tfiltersComparisonOptions: FiltersComparisonOptions;\n\ttexts: FiltersTexts;\n\tonChange: (props:FilterProps) => void;\n\tonRemove: () => void;\n}\nexport interface FilterOption {\n\tname: string;\n\tid: string;\n\ttype: keyof FiltersComparisonOptions,\n\toptions?: SelectOption[]\n}\n\nexport interface FilterComparisonOption extends SelectOption {\n\tvalue: FilterPropsOperators,\n\thideInput?: boolean;\n\tinputType?: InputType | 'period' | 'user' | 'multi_user' | 'select' | 'multi_select' | 'link_to_another_record' | 'filetype' | 'checkbox'\n}\n\nexport interface FiltersComparisonOptions {\n\tstring: FilterComparisonOption[];\n\tnumber: FilterComparisonOption[];\n\tdate: FilterComparisonOption[];\n\tuser: FilterComparisonOption[];\n\tselect: FilterComparisonOption[];\n\tmulti_select: FilterComparisonOption[];\n\tlink_to_another_record: FilterComparisonOption[];\n\tattachment: FilterComparisonOption[];\n\tcheckbox: FilterComparisonOption[];\n}\n\nexport interface PeriodSelectProps {\n\ttexts: FiltersTexts;\n\tperiodValue: PeriodValue;\n\toperator: FilterPropsOperators,\n\tonChange: (value:PeriodValue) => void;\n}\nexport interface PeriodOption extends SelectOption {\n\tvalue: PeriodSelectValues,\n\thideInput?: boolean;\n\tinputType?: 'number' | 'date';\n\tsupportedOperators?: FilterPropsOperators[]\n}\nexport enum PeriodSelectValues {\n\tPastWeek = 'pastWeek',\n\tPastMonth = 'pastMonth',\n\tPastYear = 'pastYear',\n\tNextWeek = 'nextWeek',\n\tNextMonth = 'nextMonth',\n\tNextYear = 'nextYear',\n\tCalendarWeek = 'calendarWeek',\n\tCalendarMonth = 'calendarMonth',\n\tCalendarYear = 'calendarYear',\n\tNextNumberOfDays = 'nextNumberOfDays',\n\tPastNumberOfDays = 'pastNumberOfDays',\n\tExactDate = 'exactDate',\n\tToday = 'today',\n\tTomorrow = 'tomorrow',\n\tYesterday = 'yesterday',\n\tOneWeekAgo = 'oneWeekAgo',\n\tOneWeekFromNow = 'oneWeekFromNow',\n\tOneMonthAgo = 'oneMonthAgo',\n\tOneMonthFromNow = 'oneMonthFromNow',\n\tDaysAgo = 'daysAgo',\n\tDaysFromNow = 'daysFromNow',\n}\nexport interface PeriodValue {\n\tmode: PeriodSelectValues,\n\tnumberOfDays?: string,\n\tinput?: string,\n}\n\nexport interface FilterInputProps {\n\ttexts:FiltersTexts,\n\thideInput:boolean,\n\tvalue:string,\n\tinputType?: InputType,\n\tonChange: (newValue:string) => void\n}\n\nexport interface UserSelectProps {\n\ttexts:FiltersTexts,\n\thideInput:boolean,\n\tvalue:string|string[],\n\tonChange: (newValue:string|string[]) => void,\n\tisMulti: boolean,\n\tfieldName: string,\n}\nexport interface LinkToAnotherRecordSelectProps {\n\ttexts:FiltersTexts,\n\thideInput:boolean,\n\tvalue:string[],\n\tfieldName: string,\n\tonChange: (newValue:string|string[]) => void,\n}\n\nexport interface InputSelectProps {\n\ttexts:FiltersTexts,\n\thideInput:boolean,\n\tvalue:string|string[],\n\toptions: SelectOption[],\n\tonChange: (newValue:string|string[]) => void,\n\tisMulti: boolean,\n}\n\nexport enum FileTypes {\n\tImage = 'image',\n\tText = 'text',\n}\n","import {\n\tFileTypes,\n\tFilterPropsOperators,\n\tFiltersComparisonOptions,\n\tFiltersTexts,\n\tPeriodOption,\n\tPeriodSelectValues\n} from \"./Filters.types\";\nimport {InputType} from \"../input/Input\";\nimport {SelectOption} from \"../select/Select.types\";\n\nexport const getFiltersComparisonOptions = (texts:FiltersTexts):FiltersComparisonOptions => {\n\treturn {\n\t\t'string': [\n\t\t\t{ value: FilterPropsOperators.Contains, label: texts.compare.contains },\n\t\t\t{ value: FilterPropsOperators.DoesNotContain, label: texts.compare.does_not_contains },\n\t\t\t{ value: FilterPropsOperators.Is, label: texts.compare.is },\n\t\t\t{ value: FilterPropsOperators.IsNot, label: texts.compare.is_not },\n\t\t\t{ value: FilterPropsOperators.IsEmpty, label: texts.compare.is_empty, hideInput: true },\n\t\t\t{ value: FilterPropsOperators.IsNotEmpty, label: texts.compare.is_not_empty, hideInput: true,  },\n\t\t],\n\t\t'number': [\n\t\t\t{ value: FilterPropsOperators.Is, label: '=', inputType: InputType.Number },\n\t\t\t{ value: FilterPropsOperators.IsNot, label: '≠', inputType: InputType.Number },\n\t\t\t{ value: FilterPropsOperators.LesserThan, label: '<', inputType: InputType.Number },\n\t\t\t{ value: FilterPropsOperators.GreaterThan, label: '>', inputType: InputType.Number },\n\t\t\t{ value: FilterPropsOperators.LesserOrEqualThan, label: '≤', inputType: InputType.Number },\n\t\t\t{ value: FilterPropsOperators.GreaterOrEqualThan, label: '≥', inputType: InputType.Number },\n\t\t\t{ value: FilterPropsOperators.IsEmpty, label: texts.compare.is_empty, hideInput: true },\n\t\t\t{ value: FilterPropsOperators.IsNotEmpty, label: texts.compare.is_not_empty, hideInput: true,  },\n\t\t],\n\t\t'date': [\n\t\t\t{ value: FilterPropsOperators.Is, label: texts.compare.is, inputType: 'period' },\n\t\t\t{ value: FilterPropsOperators.IsWithin, label: texts.compare.is_within, inputType: 'period' },\n\t\t\t{ value: FilterPropsOperators.LesserThan, label: texts.compare.is_before, inputType: 'period' },\n\t\t\t{ value: FilterPropsOperators.GreaterThan, label: texts.compare.is_after, inputType: 'period' },\n\t\t\t{ value: FilterPropsOperators.LesserOrEqualThan, label: texts.compare.is_on_or_before, inputType: 'period' },\n\t\t\t{ value: FilterPropsOperators.GreaterOrEqualThan, label: texts.compare.is_on_or_after, inputType: 'period' },\n\t\t\t{ value: FilterPropsOperators.IsNot, label: texts.compare.is_not, inputType: 'period' },\n\t\t],\n\t\t'user': [\n\t\t\t{ value: FilterPropsOperators.Is, label: texts.compare.is, inputType: 'user' },\n\t\t\t{ value: FilterPropsOperators.IsNot, label: texts.compare.is_not, inputType: 'user' },\n\t\t\t{ value: FilterPropsOperators.IsAnyOf, label: texts.compare.is_any_of, inputType: 'multi_user' },\n\t\t\t{ value: FilterPropsOperators.IsNoneOf, label: texts.compare.is_none_of, inputType: 'multi_user' },\n\t\t\t{ value: FilterPropsOperators.IsEmpty, label: texts.compare.is_empty, hideInput: true },\n\t\t\t{ value: FilterPropsOperators.IsNotEmpty, label: texts.compare.is_not_empty, hideInput: true },\n\t\t],\n\t\t'select': [\n\t\t\t{ value: FilterPropsOperators.Is, label: texts.compare.is, inputType: 'select' },\n\t\t\t{ value: FilterPropsOperators.IsNot, label: texts.compare.is, inputType: 'select' },\n\t\t\t{ value: FilterPropsOperators.IsAnyOf, label: texts.compare.is_any_of, inputType: 'multi_select' },\n\t\t\t{ value: FilterPropsOperators.IsNoneOf, label: texts.compare.is_none_of, inputType: 'multi_select' },\n\t\t\t{ value: FilterPropsOperators.IsEmpty, label: texts.compare.is_empty, hideInput: true },\n\t\t\t{ value: FilterPropsOperators.IsNotEmpty, label: texts.compare.is_not_empty, hideInput: true },\n\t\t],\n\t\t'multi_select': [\n\t\t\t{ value: FilterPropsOperators.HasAnyOf, label: texts.compare.has_any_of, inputType: 'multi_select' },\n\t\t\t{ value: FilterPropsOperators.HasAllOf, label: texts.compare.has_all_of, inputType: 'multi_select' },\n\t\t\t{ value: FilterPropsOperators.Is, label: texts.compare.is_exactly, inputType: 'multi_select' },\n\t\t\t{ value: FilterPropsOperators.HasNoneOf, label: texts.compare.has_none_of, inputType: 'multi_select' },\n\t\t\t{ value: FilterPropsOperators.IsEmpty, label: texts.compare.is_empty, hideInput: true },\n\t\t\t{ value: FilterPropsOperators.IsNotEmpty, label: texts.compare.is_not_empty, hideInput: true },\n\t\t],\n\t\t'link_to_another_record': [\n\t\t\t{ value: FilterPropsOperators.HasAnyOf, label: texts.compare.has_any_of, inputType: 'link_to_another_record' },\n\t\t\t{ value: FilterPropsOperators.HasAllOf, label: texts.compare.has_all_of, inputType: 'link_to_another_record' },\n\t\t\t{ value: FilterPropsOperators.Is, label: texts.compare.is_exactly, inputType: 'link_to_another_record' },\n\t\t\t{ value: FilterPropsOperators.IsNoneOf, label: texts.compare.has_none_of, inputType: 'link_to_another_record' },\n\t\t\t{ value: FilterPropsOperators.Contains, label: texts.compare.contains },\n\t\t\t{ value: FilterPropsOperators.DoesNotContain, label: texts.compare.does_not_contains },\n\t\t\t{ value: FilterPropsOperators.IsEmpty, label: texts.compare.is_empty, hideInput: true },\n\t\t\t{ value: FilterPropsOperators.IsNotEmpty, label: texts.compare.is_not_empty, hideInput: true },\n\t\t],\n\t\t'attachment': [\n\t\t\t{ value: FilterPropsOperators.Filename, label: texts.compare.filenames_contains },\n\t\t\t// We can't search by file type right now with the formula filter\n\t\t\t//{ value: FilterPropsOperators.Filetype, label: texts.compare.has_file_type, inputType: 'filetype' },\n\t\t\t{ value: FilterPropsOperators.IsEmpty, label: texts.compare.is_empty, hideInput: true },\n\t\t\t{ value: FilterPropsOperators.IsNotEmpty, label: texts.compare.is_not_empty, hideInput: true },\n\t\t],\n\t\t'checkbox': [\n\t\t\t{ value: FilterPropsOperators.Is, label: texts.compare.is, inputType: 'checkbox' },\n\t\t]\n\t}\n};\n\nconst specificDateOperator = [ FilterPropsOperators.Is, FilterPropsOperators.LesserThan, FilterPropsOperators.GreaterThan, FilterPropsOperators.LesserOrEqualThan, FilterPropsOperators.GreaterOrEqualThan, FilterPropsOperators.IsNot ];\nconst rangeDateOperator = [ FilterPropsOperators.IsWithin ];\nexport const getPeriodsOptions = (texts:FiltersTexts, operator:FilterPropsOperators):Record<PeriodSelectValues, PeriodOption> => {\n\tconst periodOptions = [\n\t\t{\n\t\t\tvalue: PeriodSelectValues.PastWeek,\n\t\t\tlabel: texts.periods.past_week,\n\t\t\thideInput: true,\n\t\t\tsupportedOperators: rangeDateOperator\n\t\t},\n\t\t{\n\t\t\tvalue: PeriodSelectValues.PastMonth,\n\t\t\tlabel: texts.periods.past_month,\n\t\t\thideInput: true,\n\t\t\tsupportedOperators: rangeDateOperator\n\t\t},\n\t\t{\n\t\t\tvalue: PeriodSelectValues.PastYear,\n\t\t\tlabel: texts.periods.past_year,\n\t\t\thideInput: true,\n\t\t\tsupportedOperators: rangeDateOperator\n\t\t},\n\t\t{\n\t\t\tvalue: PeriodSelectValues.NextWeek,\n\t\t\tlabel: texts.periods.next_week,\n\t\t\thideInput: true,\n\t\t\tsupportedOperators: rangeDateOperator\n\t\t},\n\t\t{\n\t\t\tvalue: PeriodSelectValues.NextMonth,\n\t\t\tlabel: texts.periods.next_month,\n\t\t\thideInput: true,\n\t\t\tsupportedOperators: rangeDateOperator\n\t\t},\n\t\t{\n\t\t\tvalue: PeriodSelectValues.NextYear,\n\t\t\tlabel: texts.periods.next_year,\n\t\t\thideInput: true,\n\t\t\tsupportedOperators: rangeDateOperator\n\t\t},\n\t\t{\n\t\t\tvalue: PeriodSelectValues.CalendarWeek,\n\t\t\tlabel: texts.periods.calendar_week,\n\t\t\thideInput: true,\n\t\t\tsupportedOperators: rangeDateOperator\n\t\t},\n\t\t{\n\t\t\tvalue: PeriodSelectValues.CalendarMonth,\n\t\t\tlabel: texts.periods.calendar_month,\n\t\t\thideInput: true,\n\t\t\tsupportedOperators: rangeDateOperator\n\t\t},\n\t\t{\n\t\t\tvalue: PeriodSelectValues.CalendarYear,\n\t\t\tlabel: texts.periods.calendar_year,\n\t\t\thideInput: true,\n\t\t\tsupportedOperators: rangeDateOperator\n\t\t},\n\t\t{\n\t\t\tvalue: PeriodSelectValues.NextNumberOfDays,\n\t\t\tlabel: texts.periods.next_number_of_days,\n\t\t\tinputType: 'number',\n\t\t\tsupportedOperators: rangeDateOperator\n\t\t},\n\t\t{\n\t\t\tvalue: PeriodSelectValues.PastNumberOfDays,\n\t\t\tlabel: texts.periods.past_number_of_days,\n\t\t\tinputType: 'number',\n\t\t\tsupportedOperators: rangeDateOperator\n\t\t},\n\t\t{\n\t\t\tvalue: PeriodSelectValues.ExactDate,\n\t\t\tlabel: texts.periods.exact_date,\n\t\t\tinputType: 'date',\n\t\t\tsupportedOperators: specificDateOperator\n\t\t},\n\t\t{\n\t\t\tvalue: PeriodSelectValues.Today,\n\t\t\tlabel: texts.periods.today,\n\t\t\thideInput: true,\n\t\t\tsupportedOperators: specificDateOperator\n\t\t},\n\t\t{\n\t\t\tvalue: PeriodSelectValues.Tomorrow,\n\t\t\tlabel: texts.periods.tomorrow,\n\t\t\thideInput: true,\n\t\t\tsupportedOperators: specificDateOperator\n\t\t},\n\t\t{\n\t\t\tvalue: PeriodSelectValues.Yesterday,\n\t\t\tlabel: texts.periods.yesterday,\n\t\t\thideInput: true,\n\t\t\tsupportedOperators: specificDateOperator\n\t\t},\n\t\t{\n\t\t\tvalue: PeriodSelectValues.OneWeekAgo,\n\t\t\tlabel: texts.periods.one_week_ago,\n\t\t\thideInput: true,\n\t\t\tsupportedOperators: specificDateOperator\n\t\t},\n\t\t{\n\t\t\tvalue: PeriodSelectValues.OneWeekFromNow,\n\t\t\tlabel: texts.periods.one_week_from_now,\n\t\t\thideInput: true,\n\t\t\tsupportedOperators: specificDateOperator\n\t\t},\n\t\t{\n\t\t\tvalue: PeriodSelectValues.OneMonthAgo,\n\t\t\tlabel: texts.periods.one_month_ago,\n\t\t\thideInput: true,\n\t\t\tsupportedOperators: specificDateOperator\n\t\t},\n\t\t{\n\t\t\tvalue: PeriodSelectValues.OneMonthFromNow,\n\t\t\tlabel: texts.periods.one_month_from_now,\n\t\t\thideInput: true,\n\t\t\tsupportedOperators: specificDateOperator\n\t\t},\n\t\t{\n\t\t\tvalue: PeriodSelectValues.DaysAgo,\n\t\t\tlabel: texts.periods.number_of_days_ago,\n\t\t\tinputType: 'number',\n\t\t\tsupportedOperators: specificDateOperator\n\t\t},\n\t\t{\n\t\t\tvalue: PeriodSelectValues.DaysFromNow,\n\t\t\tlabel: texts.periods.number_of_days_from_now,\n\t\t\tinputType: 'number',\n\t\t\tsupportedOperators: specificDateOperator\n\t\t}\n\n\t];\n\n\tconst filteredPeriodOptions = Object.values(periodOptions).filter((periodOption) => {\n\t\treturn !periodOption.supportedOperators || periodOption.supportedOperators.indexOf(operator) > -1;\n\t});\n\n\treturn filteredPeriodOptions.reduce((carry, periodOption) => {\n\t\tcarry[periodOption.value] = periodOption as PeriodOption;\n\t\treturn carry;\n\t}, {} as Record<PeriodSelectValues, PeriodOption>);\n};\n\nexport const getConjunctionOptions = (texts:FiltersTexts) => ({\n\tand: { value: 'and', label: texts.and },\n\tor: { value: 'or', label: texts.or }\n});\n\n\nexport const getFileTypes = (texts:FiltersTexts): Record<FileTypes, SelectOption> => ({\n\t[FileTypes.Image]: { value: 'image', label: texts.file_types.image } as SelectOption,\n\t[FileTypes.Text]: { value: 'text', label: texts.file_types.text } as SelectOption\n});\n","import {\n\tFileTypes,\n\tFilterComparisonOption,\n\tFilterGroupProps,\n\tFilterOption,\n\tFilterProps, FilterPropsOperators,\n\tFiltersComparisonOptions, FiltersTexts, PeriodValue\n} from \"./Filters.types\";\nimport {Collaborator, LinkToAnotherRecord} from \"../../../types/airtable\";\nimport {SelectOption} from \"../select/Select.types\";\nimport { getPeriodsOptions } from \"./config\";\n\n\nexport const updateFilterAt = (filters:(FilterProps|FilterGroupProps)[], index:number, newFilter:FilterProps|FilterGroupProps) => {\n\treturn [...filters.slice(0, index), newFilter, ...filters.slice(index + 1)];\n}\n\nexport const removeFilterAt = (filters:(FilterProps|FilterGroupProps)[], index:number) => {\n\treturn [...filters.slice(0, index), ...filters.slice(index + 1)]\n}\n\nexport const getFilterById = (airtableFilterOptions:FilterOption[], filterId:string) => {\n\treturn airtableFilterOptions.find((fieldOption) => fieldOption.id === filterId);\n}\n\nexport const getFilterTypeFiltersComparisonOptions = (filtersComparisonOptions:FiltersComparisonOptions, filterType:keyof FiltersComparisonOptions|undefined):FilterComparisonOption[] => {\n\tif (!filterType || !filtersComparisonOptions[filterType]) {\n\t\treturn [];\n\t}\n\treturn filtersComparisonOptions[filterType];\n}\n\nexport const getComparisonOptionByOperator = (comparisonOptions:FilterComparisonOption[], operator:FilterPropsOperators) => {\n\treturn comparisonOptions.find((comparisonOption) => comparisonOption.value === operator)\n}\n\nexport const collaboratorToSelectOption = (collaborator:Collaborator):SelectOption => {\n\treturn {\n\t\tvalue: collaborator.name,\n\t\tlabel: collaborator.name,\n\t}\n}\n\nexport const isPeriodValue = (value:any): value is PeriodValue => {\n\treturn typeof value === 'object' && ! ('mode' in value);\n}\n\nexport const linkToAnotherRecordToSelectOption = (linkToAnotherRecord:LinkToAnotherRecord):SelectOption => {\n\treturn {\n\t\tvalue: linkToAnotherRecord.id,\n\t\tlabel: linkToAnotherRecord.name,\n\t}\n}\n\nexport const createCheckFilterProps = (texts:FiltersTexts, airtableFilterOptions:FilterOption[], filtersComparisonOptions:FiltersComparisonOptions) => {\n\treturn (newFilterProps:FilterProps) => {\n\t\tconst newFilter = getFilterById(airtableFilterOptions, newFilterProps.columnId);\n\t\tconst newComparisonOptions = getFilterTypeFiltersComparisonOptions(filtersComparisonOptions, newFilter?.type);\n\t\tlet newComparisonOptionValue = getComparisonOptionByOperator(newComparisonOptions, newFilterProps.operator);\n\t\t// If the operator is not available for the new filter, take the first one from the new list.\n\t\tif (!newComparisonOptionValue) {\n\t\t\tnewComparisonOptionValue = newComparisonOptions[0];\n\t\t\tnewFilterProps.operator = newComparisonOptionValue.value;\n\t\t}\n\n\t\tconst newInputType = newComparisonOptionValue?.inputType;\n\t\t// Check if the period is available too.\n\t\tif ('period' === newInputType) {\n\t\t\tconst newPeriodOptions = getPeriodsOptions(texts, newFilterProps.operator);\n\t\t\tconst periodValue = !isPeriodValue(newFilterProps.value)\n\t\t\t\t? {numberOfDays: '', input: '', mode: Object.values(newPeriodOptions)[0].value}\n\t\t\t\t: newFilterProps.value as PeriodValue;\n\t\t\tconst periodOption = newPeriodOptions[periodValue.mode];\n\n\t\t\tif (!periodOption || (periodOption.supportedOperators && periodOption.supportedOperators.indexOf(newFilterProps.operator) === -1)) {\n\t\t\t\tperiodValue.mode = Object.values(newPeriodOptions)[0].value;\n\t\t\t}\n\t\t\tnewFilterProps.value = periodValue;\n\t\t} else if ('multi_user' === newInputType) {\n\t\t\tif (!Array.isArray(newFilterProps.value)) {\n\t\t\t\tnewFilterProps.value = [];\n\t\t\t}\n\t\t} else if ('multi_select' === newInputType) {\n\t\t\tif (!Array.isArray(newFilterProps.value)) {\n\t\t\t\tnewFilterProps.value = [];\n\t\t\t}\n\t\t}  else if ('link_to_another_record' === newInputType) {\n\t\t\tif (!Array.isArray(newFilterProps.value)) {\n\t\t\t\tnewFilterProps.value = [];\n\t\t\t}\n\t\t} else if ('filetype' === newInputType) {\n\t\t\tif (typeof newFilterProps.value !== 'string') {\n\t\t\t\tnewFilterProps.value = '';\n\t\t\t}\n\t\t\tif (FilterPropsOperators.Filetype === newFilterProps.operator && !isFileType(newFilterProps.value)) {\n\t\t\t\tnewFilterProps.value = 'image';\n\t\t\t}\n\t\t} else if (typeof newFilterProps.value !== 'string') {\n\t\t\t// If it's not a period, reset the value to an empty string.\n\t\t\tnewFilterProps.value = '';\n\t\t}\n\n\t\treturn newFilterProps;\n\t}\n};\nexport const isFileType = (value:any): value is FileTypes => {\n\treturn typeof value === 'string' && Object.values<string>(FileTypes).includes(value);\n}\n","import {\n\tFetcherProps,\n\tFilterGroupInheritedProps,\n\tFilterGroupProps,\n\tFilterInheritedProps, FilterInputProps,\n\tFilterProps, FilterPropsOperators, InputSelectProps, LinkToAnotherRecordSelectProps,\n\tPeriodSelectProps, PeriodSelectValues, PeriodValue, UserSelectProps\n} from \"./Filters.types\";\nimport \"./Filters.css\";\nimport {Button} from \"../button\";\nimport classnames from \"classnames\";\nimport Select, {SelectAsync} from \"../select/Select\";\nimport {ReactNode, useEffect, useId, useMemo, useState} from \"react\";\nimport Input, {InputType} from \"../input/Input\";\nimport CircleTrash from \"../../graphics/icons/CircleTrash\";\nimport {\n\tgetFilterTypeFiltersComparisonOptions,\n\tgetFilterById,\n\tupdateFilterAt,\n\tremoveFilterAt,\n\tgetComparisonOptionByOperator,\n\tcollaboratorToSelectOption,\n\tlinkToAnotherRecordToSelectOption, createCheckFilterProps, isFileType\n} from \"./helpers\";\n\nimport {Options} from \"react-select\";\nimport {SelectOption} from \"../select/Select.types\";\nimport {getFiltersComparisonOptions, getPeriodsOptions, getConjunctionOptions, getFileTypes} from \"./config\";\nimport SvgChecked from \"../../graphics/icons/Checked\";\n/**\n * Filters. <br />\n * Filters based on Airtable's ones. Can be nested with groups (up to 3 levels). <br />\n *\n *\n * @constructor\n */\nconst Filters = ({\n\t\t\t\t\t conjunction,\n\t\t\t\t\t filters,\n\t\t\t\t\t texts,\n\t\t\t\t\t onChange,\n\t\t\t\t\t airtableFilterOptions,\n\t\t\t\t\t fetchFn\n\t\t\t\t }: FilterGroupInheritedProps) => {\n\tconst filtersComparisonOptions = getFiltersComparisonOptions(texts);\n\treturn <div className=\"airwpsync-c-filters\">\n\t\t<FiltersGroup\n\t\t\t{...{conjunction, filters, texts, onChange, airtableFilterOptions, filtersComparisonOptions, fetchFn}}\n\t\t/>\n\t</div>;\n};\n\n\nconst FiltersGroup = ({\n\t\t\t\t\t\t  conjunction,\n\t\t\t\t\t\t  filters,\n\t\t\t\t\t\t  texts,\n\t\t\t\t\t\t  onChange,\n\t\t\t\t\t\t  airtableFilterOptions,\n\t\t\t\t\t\t  filtersComparisonOptions,\n\t\t\t\t\t\t  fetchFn,\n\t\t\t\t\t\t  depth = 0\n\t\t\t\t\t  }: FilterGroupInheritedProps) => {\n\tconst firstFieldOption = airtableFilterOptions[0];\n\tconst checkFilterProps = createCheckFilterProps(texts, airtableFilterOptions, filtersComparisonOptions);\n\treturn <div className={classnames({\n\t\t'airwpsync-c-filters-group': true,\n\t\t'airwpsync-c-filters-group--alt': depth % 2 > 0,\n\t})}>\n\t\t{\n\t\t\tfilters.length > 0 ?\n\t\t\t\t<div className=\"airwpsync-c-filters-group__filters\">\n\t\t\t\t\t{\n\t\t\t\t\t\tfilters.map((filterProps: FilterProps | FilterGroupProps, index: number) => {\n\t\t\t\t\t\t\treturn renderFiltersGroupFilter(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tconjunction,\n\t\t\t\t\t\t\t\t\tfilters,\n\t\t\t\t\t\t\t\t\ttexts,\n\t\t\t\t\t\t\t\t\tonChange,\n\t\t\t\t\t\t\t\t\tairtableFilterOptions,\n\t\t\t\t\t\t\t\t\tfiltersComparisonOptions,\n\t\t\t\t\t\t\t\t\tdepth,\n\t\t\t\t\t\t\t\t\tfetchFn\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tfilterProps,\n\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t: null\n\t\t}\n\t\t{ /* Add filter btn */}\n\t\t<Button\n\t\t\ttype=\"button\"\n\t\t\tbuttonType=\"secondary\"\n\t\t\tonClick={() => {\n\t\t\t\tonChange({\n\t\t\t\t\tconjunction,\n\t\t\t\t\tfilters: [...filters, checkFilterProps({\n\t\t\t\t\t\toperator: filtersComparisonOptions[firstFieldOption.type][0].value,\n\t\t\t\t\t\tcolumnId: firstFieldOption.id,\n\t\t\t\t\t\tcolumnName: firstFieldOption.name,\n\t\t\t\t\t\tvalue: ''\n\t\t\t\t\t}) as FilterProps]\n\t\t\t\t})\n\t\t\t}}\n\t\t>{texts.addFilterBtnText}</Button>\n\t\t{ /* Add filter group btn */}\n\t\t<Button\n\t\t\ttype=\"button\"\n\t\t\tbuttonType=\"secondary\"\n\t\t\tdisabled={depth >= 2}\n\t\t\ttitle={depth >= 2 ? texts.maxNestedFilterGroupReached : ''}\n\t\t\tonClick={() => {\n\t\t\t\tonChange({\n\t\t\t\t\tconjunction,\n\t\t\t\t\tfilters: [...filters, {conjunction: 'and', filters: []}]\n\t\t\t\t})\n\t\t\t}}\n\t\t>{texts.addFilterGroupBtnText}</Button>\n\t</div>;\n};\n\n\nconst renderFiltersGroupFilter = (groupFilterProps: FilterGroupInheritedProps, filterProps: FilterProps | FilterGroupProps, index: number) => {\n\tconst {\n\t\tconjunction,\n\t\ttexts,\n\t\tonChange,\n\t\tfilters,\n\t\tairtableFilterOptions,\n\t\tfiltersComparisonOptions,\n\t\tfetchFn,\n\t\tdepth = 0\n\t} = groupFilterProps;\n\tlet conjunctionElement: string | ReactNode = texts[conjunction];\n\tif (0 === index) {\n\t\tconjunctionElement = texts.where;\n\t} else if (1 === index) {\n\t\tconst conjunctionOptions = getConjunctionOptions(texts);\n\t\tconjunctionElement = <Select\n\t\t\tlabel={texts.conjunction}\n\t\t\tvalue={conjunctionOptions[conjunction]}\n\t\t\toptions={Object.values(conjunctionOptions)}\n\t\t\tonChange={(newConjunction) => {\n\t\t\t\tonChange({\n\t\t\t\t\tfilters,\n\t\t\t\t\tconjunction: newConjunction ? newConjunction.value as ('and' | 'or') : 'and'\n\t\t\t\t});\n\t\t\t}}\n\t\t/>\n\t}\n\n\treturn <div key={index} className=\"airwpsync-c-filters-filter\">\n\t\t<div className=\"airwpsync-c-filters-group__conjunction\">{conjunctionElement}</div>\n\t\t{\n\t\t\t'conjunction' in filterProps ?\n\t\t\t\t<div className=\"airwpsync-c-filters-group__group\">\n\t\t\t\t\t<FiltersGroup {...{\n\t\t\t\t\t\t...filterProps,\n\t\t\t\t\t\ttexts,\n\t\t\t\t\t\tairtableFilterOptions,\n\t\t\t\t\t\tfiltersComparisonOptions,\n\t\t\t\t\t\tfetchFn,\n\t\t\t\t\t\tonChange: (props) => {\n\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\tconjunction,\n\t\t\t\t\t\t\t\tfilters: updateFilterAt(filters, index, props)\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdepth: depth + 1,\n\t\t\t\t\t}} />\n\t\t\t\t</div>\n\t\t\t\t: <Filter {...{\n\t\t\t\t\t...filterProps,\n\t\t\t\t\tairtableFilterOptions,\n\t\t\t\t\tfiltersComparisonOptions,\n\t\t\t\t\ttexts,\n\t\t\t\t\tfetchFn,\n\t\t\t\t\tonChange: (props) => {\n\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\tconjunction,\n\t\t\t\t\t\t\tfilters: updateFilterAt(filters, index, props)\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tonRemove: () => {\n\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\tconjunction,\n\t\t\t\t\t\t\tfilters: removeFilterAt(filters, index)\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t}} />\n\t\t}\n\t\t<button\n\t\t\ttype=\"button\"\n\t\t\tclassName=\"airwpsync-c-filters-group__remove-btn airwpsync-u-reset-btn\"\n\t\t\tonClick={() => {\n\t\t\t\tonChange({\n\t\t\t\t\tconjunction,\n\t\t\t\t\tfilters: removeFilterAt(filters, index)\n\t\t\t\t});\n\t\t\t}}\n\t\t><CircleTrash/></button>\n\t</div>\n}\n\nconst Filter = ({\n\t\t\t\t\tcolumnName,\n\t\t\t\t\tcolumnId,\n\t\t\t\t\toperator,\n\t\t\t\t\tvalue,\n\t\t\t\t\tairtableFilterOptions,\n\t\t\t\t\tfiltersComparisonOptions,\n\t\t\t\t\ttexts,\n\t\t\t\t\tfetchFn,\n\t\t\t\t\tonChange,\n\t\t\t\t\tonRemove\n\t\t\t\t}: FilterInheritedProps) => {\n\tconst filterProps = {columnName, columnId, operator, value};\n\tconst filterOptions = airtableFilterOptions.map(({id, name}) => ({value: id, label: name}));\n\tconst filter = getFilterById(airtableFilterOptions, columnId);\n\tconst fieldOptionValue = filterOptions.find((filterOption) => filterOption.value === columnId);\n\tconst comparisonOptions = getFilterTypeFiltersComparisonOptions(filtersComparisonOptions, filter?.type);\n\tconst comparisonOptionValue = getComparisonOptionByOperator(comparisonOptions, operator);\n\tconst checkFilterProps = createCheckFilterProps(texts, airtableFilterOptions, filtersComparisonOptions);\n\n\tlet inputType = comparisonOptionValue?.inputType;\n\n\tconst children = [];\n\n\t// Add filters/fields select.\n\tchildren.push(\n\t\t<div key=\"filter-select-field\" className=\"airwpsync-c-filters-filter__select-field\">\n\t\t\t<Select\n\t\t\t\tlabel={''}\n\t\t\t\toptions={filterOptions}\n\t\t\t\tplaceholder={texts.selectFieldPlaceholder}\n\t\t\t\tvalue={fieldOptionValue}\n\t\t\t\tmenuShouldScrollIntoView={false}\n\t\t\t\tonChange={(newValue) => {\n\t\t\t\t\tif (newValue) {\n\t\t\t\t\t\tconst newFilter = getFilterById(airtableFilterOptions, newValue.value);\n\t\t\t\t\t\tif (newFilter) {\n\t\t\t\t\t\t\tconst newFilterProps = {\n\t\t\t\t\t\t\t\t...filterProps,\n\t\t\t\t\t\t\t\tcolumnId: newFilter.id,\n\t\t\t\t\t\t\t\tcolumnName: newFilter.name,\n\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tonChange(checkFilterProps(newFilterProps));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}}\n\t\t\t/>\n\t\t</div>\n\t);\n\n\t// Add comparisons select.\n\tchildren.push(\n\t\t<div key=\"filter-select-comparison\" className=\"airwpsync-c-filters-filter__select-comparison\">{\n\t\t\tcomparisonOptions ?\n\t\t\t\t<Select\n\t\t\t\t\tlabel={''}\n\t\t\t\t\toptions={comparisonOptions}\n\t\t\t\t\tplaceholder={texts.selectComparisonPlaceholder}\n\t\t\t\t\tvalue={comparisonOptionValue}\n\t\t\t\t\tmenuShouldScrollIntoView={false}\n\t\t\t\t\tonChange={(newValue) => {\n\t\t\t\t\t\tif (newValue) {\n\t\t\t\t\t\t\tonChange(checkFilterProps({\n\t\t\t\t\t\t\t\t...filterProps,\n\t\t\t\t\t\t\t\toperator: newValue.value as FilterPropsOperators,\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tonRemove();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}}\n\t\t\t\t></Select>\n\t\t\t\t: null\n\t\t}</div>\n\t);\n\n\tif ('period' === inputType && comparisonOptionValue) {\n\t\tchildren.push(\n\t\t\t<PeriodsSelect {...{\n\t\t\t\ttexts,\n\t\t\t\tkey: 'filter-select-period',\n\t\t\t\tperiodValue: value as PeriodValue,\n\t\t\t\toperator: comparisonOptionValue.value,\n\t\t\t\tonChange: (newPeriodValue) => {\n\t\t\t\t\tonChange({\n\t\t\t\t\t\t...filterProps,\n\t\t\t\t\t\tvalue: newPeriodValue,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}}/>\n\t\t)\n\t} else if (('user' === inputType || 'multi_user' === inputType) && (typeof value === 'string' || Array.isArray(value))) {\n\t\tchildren.push(\n\t\t\t<UserSelect\n\t\t\t\tkey=\"filter-select-user\"\n\t\t\t\ttexts={texts}\n\t\t\t\tisMulti={'multi_user' === inputType}\n\t\t\t\thideInput={!!comparisonOptionValue?.hideInput}\n\t\t\t\tvalue={value}\n\t\t\t\tfieldName={columnName}\n\t\t\t\tonChange={(newValue) => {\n\t\t\t\t\tonChange({\n\t\t\t\t\t\t...filterProps,\n\t\t\t\t\t\tvalue: newValue,\n\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t\tfetchFn={fetchFn}\n\t\t\t/>\n\t\t);\n\t} else if (('select' === inputType || 'multi_select' === inputType) && (Array.isArray(value) || typeof value === 'string')) {\n\t\tchildren.push(\n\t\t\t<InputSelect\n\t\t\t\tkey=\"filter-input-select\"\n\t\t\t\ttexts={texts}\n\t\t\t\toptions={(Array.isArray(filter?.options) ? filter?.options as SelectOption[] : [])}\n\t\t\t\tisMulti={'multi_select' === inputType}\n\t\t\t\thideInput={!!comparisonOptionValue?.hideInput}\n\t\t\t\tvalue={value}\n\t\t\t\tonChange={(newValue) => {\n\t\t\t\t\tonChange({\n\t\t\t\t\t\t...filterProps,\n\t\t\t\t\t\tvalue: newValue,\n\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t/>\n\t\t);\n\t} else if ('link_to_another_record' === inputType && Array.isArray(value)) {\n\t\tchildren.push(\n\t\t\t<LinkToAnotherRecordSelect\n\t\t\t\tkey=\"filter-select-link-to-another-record\"\n\t\t\t\ttexts={texts}\n\t\t\t\thideInput={!!comparisonOptionValue?.hideInput}\n\t\t\t\tvalue={value}\n\t\t\t\tfieldName={columnName}\n\t\t\t\tonChange={(newValue) => {\n\t\t\t\t\tonChange({\n\t\t\t\t\t\t...filterProps,\n\t\t\t\t\t\tvalue: newValue,\n\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t\tfetchFn={fetchFn}\n\t\t\t/>\n\t\t);\n\t} else if ('filetype' === inputType && isFileType(value)) {\n\t\tconst fileTypes = getFileTypes(texts);\n\t\tchildren.push(\n\t\t\t<div key=\"filter-filetype\" className=\"airwpsync-c-filters-filter__select-filetype\">\n\t\t\t\t<Select\n\t\t\t\t\tlabel={''}\n\t\t\t\t\toptions={Object.values(fileTypes)}\n\t\t\t\t\tvalue={fileTypes[value]}\n\t\t\t\t\tonChange={(newValue) => {\n\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t...filterProps,\n\t\t\t\t\t\t\tvalue: newValue ? newValue.value : '',\n\t\t\t\t\t\t});\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t} else if ('checkbox' === inputType && typeof value === 'string') {\n\t\tchildren.push(\n\t\t\t<FilterInputCheckbox\n\t\t\t\tkey=\"filter-input-checkbox\"\n\t\t\t\ttexts={texts}\n\t\t\t\tvalue={value}\n\t\t\t\thideInput={!!comparisonOptionValue?.hideInput}\n\t\t\t\tonChange={(newValue: string) => {\n\t\t\t\t\tonChange({\n\t\t\t\t\t\t...filterProps,\n\t\t\t\t\t\tvalue: newValue\n\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t/>\n\t\t);\n\t} else {\n\t\tchildren.push(\n\t\t\t<FilterInput\n\t\t\t\tkey=\"filter-input\"\n\t\t\t\ttexts={texts}\n\t\t\t\tinputType={inputType as InputType}\n\t\t\t\tvalue={value as string}\n\t\t\t\thideInput={!!comparisonOptionValue?.hideInput}\n\t\t\t\tonChange={(newValue: string) => {\n\t\t\t\t\tonChange({\n\t\t\t\t\t\t...filterProps,\n\t\t\t\t\t\tvalue: newValue\n\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn <>{children}</>;\n}\n\nconst PeriodsSelect = ({texts, periodValue, operator, onChange}: PeriodSelectProps) => {\n\tconst periodOptions = useMemo(() => {\n\t\treturn getPeriodsOptions(texts, operator);\n\t}, [texts, operator]);\n\tconst periodOption = periodOptions[periodValue.mode];\n\n\tconst inputPropName = periodOption.inputType === 'number' ? 'numberOfDays' : 'input';\n\n\treturn <>\n\t\t<div className=\"airwpsync-c-filters-filter__select-period\">\n\t\t\t<div>\n\t\t\t\t<Select\n\t\t\t\t\tlabel={''}\n\t\t\t\t\toptions={Object.values(periodOptions)}\n\t\t\t\t\tplaceholder={texts.selectComparisonPlaceholder}\n\t\t\t\t\tvalue={periodOptions[periodValue.mode] ?? undefined}\n\t\t\t\t\tmenuShouldScrollIntoView={false}\n\t\t\t\t\tonChange={(newValue) => {\n\t\t\t\t\t\tif (newValue) {\n\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t...periodValue,\n\t\t\t\t\t\t\t\tmode: newValue.value as PeriodSelectValues\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t></Select>\n\t\t\t</div>\n\t\t\t<FilterInput\n\t\t\t\ttexts={texts}\n\t\t\t\tinputType={periodOption.inputType as InputType}\n\t\t\t\tvalue={(periodValue[inputPropName] ?? '').toString()}\n\t\t\t\thideInput={!!periodOption?.hideInput}\n\t\t\t\tonChange={(newValue: string) => {\n\t\t\t\t\tonChange({\n\t\t\t\t\t\t...periodValue,\n\t\t\t\t\t\t[inputPropName]: newValue\n\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t/>\n\t\t</div>\n\t</>;\n}\n\nconst UserSelect = ({\n\t\t\t\t\t\ttexts,\n\t\t\t\t\t\tvalue,\n\t\t\t\t\t\tfieldName,\n\t\t\t\t\t\thideInput,\n\t\t\t\t\t\tfetchFn,\n\t\t\t\t\t\tonChange,\n\t\t\t\t\t\tisMulti = false\n\t\t\t\t\t}: UserSelectProps & FetcherProps) => {\n\tconst [optionsValue, setOptionsValue] = useState<boolean | SelectOption[]>(false);\n\tconst [defaultOptions, setDefaultOptions] = useState<SelectOption[]>([]);\n\tconst flatValues = Array.isArray(optionsValue) ? optionsValue.map((option) => option.value).join('|') : false;\n\n\tuseEffect(() => {\n\t\tif ((Array.isArray(value) && value.join('|') === flatValues) || (value === flatValues)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (value.length === 0) {\n\t\t\tsetOptionsValue([]);\n\t\t\treturn;\n\t\t}\n\t\tconst formData = new FormData();\n\t\tformData.set('field_name', fieldName);\n\t\tif (Array.isArray(value)) {\n\t\t\tvalue.forEach((id) => {\n\t\t\t\tformData.append('search[]', id);\n\t\t\t})\n\t\t} else {\n\t\t\tformData.set('search', value);\n\t\t}\n\t\tfetchFn('airtable-search-users', formData).then((result) => {\n\t\t\tif (!result.success || !result.data || !('map' in result.data) || result.data.length === 0) {\n\t\t\t\tif (!result.success || !result.data || !('map' in result.data)) {\n\t\t\t\t\tconsole.error('fetchFn airtable-search-users', result);\n\t\t\t\t}\n\t\t\t\tsetOptionsValue([]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst initialValue = result.data.map(collaboratorToSelectOption);\n\t\t\tsetDefaultOptions(initialValue);\n\t\t\tsetOptionsValue(initialValue);\n\t\t});\n\t}, [value, fetchFn, flatValues, fieldName]);\n\n\tlet result = null;\n\tif (!hideInput && Array.isArray(optionsValue)) {\n\t\tresult = <SelectAsync\n\t\t\tlabel={''}\n\t\t\tvalue={isMulti ? optionsValue : optionsValue[0]}\n\t\t\tdefaultOptions={defaultOptions}\n\t\t\tisMulti={isMulti}\n\t\t\tisClearable={true}\n\t\t\tisSearchable={true}\n\t\t\tonChange={(newValue) => {\n\t\t\t\tif (isMulti) {\n\t\t\t\t\tonChange(Array.isArray(newValue) ? newValue.map((option) => option.value) : []);\n\t\t\t\t\tsetOptionsValue(Array.isArray(newValue) ? newValue : []);\n\t\t\t\t} else {\n\t\t\t\t\tconst isOption = newValue !== null && typeof newValue === 'object' && 'value' in newValue;\n\t\t\t\t\tonChange(isOption ? (newValue as SelectOption).value : '');\n\t\t\t\t\tsetOptionsValue(isOption ? [newValue as SelectOption] : []);\n\t\t\t\t}\n\t\t\t}}\n\t\t\tloadOptions={(inputValue, callback) => {\n\t\t\t\tconst formData = new FormData();\n\t\t\t\tformData.set('field_name', fieldName);\n\t\t\t\tformData.set('search', inputValue);\n\t\t\t\tfetchFn('airtable-search-users', formData).then(\n\t\t\t\t\t(result) => {\n\t\t\t\t\t\tif (!result.success || !result.data || !('map' in result.data)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst options: Options<any> = result.data.map(collaboratorToSelectOption);\n\t\t\t\t\t\tcallback(\n\t\t\t\t\t\t\toptions\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t}}\n\t\t/>\n\t} else if (!hideInput && !Array.isArray(optionsValue)) {\n\t\tconsole.error('UserSelect: optionsValue should be an array', optionsValue);\n\t}\n\treturn <div className=\"airwpsync-c-filters-filter__select-user\"> {\n\t\tresult\n\t}</div>\n}\n\n\nconst LinkToAnotherRecordSelect = ({\n\t\t\t\t\t\t\t\t\t   texts,\n\t\t\t\t\t\t\t\t\t   value,\n\t\t\t\t\t\t\t\t\t   fieldName,\n\t\t\t\t\t\t\t\t\t   hideInput,\n\t\t\t\t\t\t\t\t\t   fetchFn,\n\t\t\t\t\t\t\t\t\t   onChange\n\t\t\t\t\t\t\t\t   }: LinkToAnotherRecordSelectProps & FetcherProps) => {\n\tconst [optionsValue, setOptionsValue] = useState<boolean | SelectOption[]>(false);\n\tconst [defaultOptions, setDefaultOptions] = useState<SelectOption[]>([]);\n\tconst flatValues = Array.isArray(optionsValue) ? optionsValue.map((option) => option.value).join('|') : false;\n\tuseEffect(() => {\n\t\tif (value.join('|') === flatValues) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (value.length === 0) {\n\t\t\tsetOptionsValue([]);\n\t\t\treturn;\n\t\t}\n\t\tconst formData = new FormData();\n\t\tformData.set('field_name', fieldName);\n\t\tif (Array.isArray(value)) {\n\t\t\tvalue.forEach((id) => {\n\t\t\t\tformData.append('search[]', id);\n\t\t\t})\n\t\t} else {\n\t\t\tformData.set('search', value);\n\t\t}\n\n\t\tfetchFn('airtable-search-records', formData).then((result) => {\n\t\t\tif (!result.success || !result.data || !('map' in result.data) || result.data.length === 0) {\n\t\t\t\tsetOptionsValue([]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst initialValue = result.data.map(linkToAnotherRecordToSelectOption);\n\t\t\tsetDefaultOptions(initialValue);\n\t\t\tsetOptionsValue(initialValue);\n\t\t});\n\t}, [value, fetchFn, flatValues]);\n\n\tlet result = null;\n\tif (!hideInput && Array.isArray(optionsValue)) {\n\t\tresult = <SelectAsync\n\t\t\tlabel={''}\n\t\t\tvalue={optionsValue}\n\t\t\tdefaultOptions={defaultOptions}\n\t\t\tisMulti={true}\n\t\t\tisClearable={true}\n\t\t\tisSearchable={true}\n\t\t\tonChange={(newValue) => {\n\t\t\t\tonChange(Array.isArray(newValue) ? newValue.map((option) => option.value) : []);\n\t\t\t\tsetOptionsValue(Array.isArray(newValue) ? newValue : []);\n\t\t\t}}\n\t\t\tloadOptions={(inputValue, callback) => {\n\t\t\t\tconst formData = new FormData();\n\t\t\t\tformData.set('field_name', fieldName);\n\t\t\t\tformData.set('search', inputValue);\n\t\t\t\tfetchFn('airtable-search-records', formData).then(\n\t\t\t\t\t(result) => {\n\t\t\t\t\t\tif (!result.success || !result.data || !('map' in result.data)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst options: Options<any> = result.data.map(collaboratorToSelectOption);\n\t\t\t\t\t\tcallback(\n\t\t\t\t\t\t\toptions\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t}}\n\t\t/>\n\t}\n\treturn <div className=\"airwpsync-c-filters-filter__select-link-to-another-record\"> {\n\t\tresult\n\t}</div>\n}\n\nconst InputSelect = ({texts, value, options, isMulti, onChange}: InputSelectProps) => {\n\tconst optionSelected = isMulti ?\n\t\toptions.filter((option) => value.indexOf(option.value) > -1)\n\t\t: options.find((option) => option.value === value);\n\n\treturn <>\n\t\t<div className=\"airwpsync-c-filters-filter__select\">\n\t\t\t<div>\n\t\t\t\t<Select\n\t\t\t\t\tlabel={''}\n\t\t\t\t\toptions={options}\n\t\t\t\t\tisMulti={isMulti}\n\t\t\t\t\tplaceholder={texts.inputValuePlaceholder}\n\t\t\t\t\tvalue={optionSelected}\n\t\t\t\t\tmenuShouldScrollIntoView={false}\n\t\t\t\t\tonChange={(newValue) => {\n\t\t\t\t\t\tif (newValue) {\n\t\t\t\t\t\t\tonChange(\n\t\t\t\t\t\t\t\tArray.isArray(newValue) ?\n\t\t\t\t\t\t\t\t\tnewValue.map((option) => option.value)\n\t\t\t\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\t\t\t\t: newValue.value\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tonChange(isMulti ? [] : '');\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t></Select>\n\t\t\t</div>\n\t\t</div>\n\t</>;\n}\n\nconst FilterInputCheckbox = ({texts, hideInput, value, onChange}: FilterInputProps) => {\n\tconst id = useId();\n\treturn <div className=\"airwpsync-c-filters-filter__select-value airwpsync-c-filters-filter__select-value--checkbox\">{\n\t\thideInput ?\n\t\t\tnull\n\t\t\t: <>\n\t\t\t\t<input\n\t\t\t\t\tid={id}\n\t\t\t\t\tclassName=\"airwpsync-c-filters-filter__select-value-checkbox\"\n\t\t\t\t\tplaceholder={texts.inputValuePlaceholder}\n\t\t\t\t\tvalue=\"1\"\n\t\t\t\t\tchecked={'1' === value}\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\tonChange(event.target.checked ? '1' : '0');\n\t\t\t\t\t}}\n\t\t\t\t/><label htmlFor={ id }>\n\t\t\t\t\t<SvgChecked />\n\t\t\t\t\t<span className=\"screen-reader-text\">{texts.checked}</span>\n\t\t\t\t</label>\n\t\t\t</>\n\t}</div>\n}\n\nconst FilterInput = ({texts, hideInput, value, inputType, onChange}: FilterInputProps) => {\n\treturn <div className=\"airwpsync-c-filters-filter__select-value\">{\n\t\thideInput ?\n\t\t\tnull\n\t\t\t: <Input\n\t\t\t\tlabel={''}\n\t\t\t\tplaceholder={texts.inputValuePlaceholder}\n\t\t\t\tvalue={value}\n\t\t\t\ttype={inputType}\n\t\t\t\tonChange={(event) => {\n\t\t\t\t\tonChange(event.target.value);\n\t\t\t\t}}\n\t\t\t/>\n\t}</div>\n}\n\nexport default Filters;\n"],"names":["_jsx","_jsxs","CircleTrash","_Fragment"],"mappings":"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"}