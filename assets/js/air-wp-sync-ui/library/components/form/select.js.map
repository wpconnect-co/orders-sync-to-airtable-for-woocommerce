{"version":3,"file":"select.js","sources":["../../../src/components/form/select/Select.tsx"],"sourcesContent":["import {default as ReactSelect, Props, GroupBase, DropdownIndicatorProps, components, OptionProps} from \"react-select\";\nimport AsyncSelect, { AsyncProps } from \"react-select/async\";\nimport SvgDropdownIndicator from \"../../graphics/icons/DropdownIndicator\";\nimport {useId} from \"react\";\nimport { SelectLabelProps } from \"./Select.types\";\nimport \"../input/Input.css\";\nimport classnames from \"classnames\";\nimport \"./Select.css\";\n\n/**\n * Select. <br />\n * Display a dropdown list. Accepts other props from <a href=\"https://react-select.com/props#statemanager-props\" target=\"_blank\">React Select</a> component appart from components, styles and theme.\n *\n * @param {React.ReactNode} label\n * @param {React.ReactNode} instructions\n * @param {('idle' | 'valid' | 'invalid')} status\n * @param {object} ...reactSelectProps Other props from React Select component.\n *\n * @constructor\n */\nexport default function Select<\n\tOption,\n\tIsMulti extends boolean = false,\n\tGroup extends GroupBase<Option> = GroupBase<Option>\n>({ label, labelHidden, instructions, status, ...reactSelectProps }: Props<Option, IsMulti, Group> & SelectLabelProps) {\n\tconst inputId = useId();\n\tif ('undefined' === typeof reactSelectProps.isSearchable) {\n\t\treactSelectProps.isSearchable = false;\n\t}\n\n    return <>\n\t\t<label\n\t\t\tclassName={classnames({\n\t\t\t\t'airwpsync-c-input__label': true,\n\t\t\t\t'screen-reader-text': labelHidden,\n\t\t\t})}\n\t\t\thtmlFor={ inputId }\n\t\t>{ label }</label>\n\t\t<div className={ `airwpsync-c-select__select-wrapper` }>\n\t\t\t<ReactSelect\n\t\t\t\t{ ...reactSelectProps as Omit<Props, \"classNamePrefix\" | \"components\" | \"styles\" | \"theme\"> }\n\t\t\t\t{ ...selectPropsModifier({ status }) }\n\t\t\t/>\n\t\t\t{ instructions ? <p className={ `airwpsync-c-input__instructions` }>{ instructions }</p> : null }\n\t\t</div>\n\t</>;\n};\n\nexport function SelectAsync<\n\tOption,\n\tIsMulti extends boolean = false,\n\tGroup extends GroupBase<Option> = GroupBase<Option>\n>({ label, instructions, status, ...reactSelectProps }: AsyncProps<Option, IsMulti, Group> & SelectLabelProps) {\n\tconst inputId = useId();\n\tif ('undefined' === typeof reactSelectProps.isSearchable) {\n\t\treactSelectProps.isSearchable = false;\n\t}\n\n\n\treturn <>\n\t\t<label className=\"airwpsync-c-input__label\" htmlFor={ inputId }>{ label }</label>\n\t\t<div className={ `airwpsync-c-select__select-wrapper` }>\n\t\t\t{ /* @ts-ignore */ }\n\t\t\t<AsyncSelect\n\t\t\t\t{ ...reactSelectProps as Omit<AsyncProps<Option, IsMulti, Group>, \"classNamePrefix\" | \"components\" | \"styles\" | \"theme\"> }\n\t\t\t\t{ ...selectAsyncPropsModifier({ status }) }\n\t\t\t/>\n\t\t\t{ instructions ? <p className={ `airwpsync-c-input__instructions` }>{ instructions }</p> : null }\n\t\t</div>\n\t</>;\n}\n\n\nconst DropdownIndicator = (props: DropdownIndicatorProps<any>) => {\n\treturn (\n\t\t<components.DropdownIndicator {...props}>\n\t\t\t<SvgDropdownIndicator />\n\t\t</components.DropdownIndicator>\n\t);\n}\n\nconst Option = (props:OptionProps) => {\n\n\n\treturn (\n\t\t<components.Option {...props}>\n\t\t\t{ props.children }\n\t\t\t{\n\t\t\t\t// @ts-ignore `description` is not part of the default option typescript definition\n\t\t\t\tprops.data?.description ? <div className=\"airwpsync-c-select__option-description\">{ props.data.description }</div> : null\n\t\t\t}\n\t\t</components.Option>\n\t);\n}\n\nconst selectPropsModifier = ({ status }:Pick<SelectLabelProps, \"status\">):Pick<Props, \"classNamePrefix\" | \"components\" | \"styles\" | \"theme\"> => {\n\treturn {\n\t\tclassNamePrefix: \"airwpsync-c-select\",\n\t\tcomponents: {\n\t\t\tDropdownIndicator,\n\t\t\tOption\n\t\t},\n\t\t// menuIsOpen: true, // useful for debug\n\t\tstyles: {\n\t\t\tcontainer: (baseStyles, state) => {\n\t\t\t\treturn {\n\t\t\t\t\t...baseStyles,\n\t\t\t\t\tmaxWidth: '768px',\n\t\t\t\t\tfontSize: '1rem',\n\t\t\t\t}\n\t\t\t},\n\t\t\t\tcontrol: (baseStyles, state) => {\n\t\t\t\tlet borderColor = 'var(--airwpsync--color--primary-100)';\n\t\t\t\tif (state.isFocused) {\n\t\t\t\t\tborderColor = 'var(--airwpsync--color--primary-400)';\n\t\t\t\t} else if ('invalid' === status) {\n\t\t\t\t\tborderColor = 'var(--airwpsync--color--error)';\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\t...baseStyles,\n\t\t\t\t\tborderColor,\n\t\t\t\t\tborderBottomLeftRadius: state.menuIsOpen ? 0 : '',\n\t\t\t\t\tborderBottomRightRadius: state.menuIsOpen ? 0 : '',\n\t\t\t\t\tboxShadow: 'none',\n\n\t\t\t\t}\n\t\t\t},\n\t\t\t\tplaceholder: (baseStyles) =>({\n\t\t\t\t...baseStyles,\n\t\t\t\tcolor: 'var(--airwpsync--color--primary-200)'\n\t\t\t}),\n\t\t\t\tindicatorSeparator: (baseStyles, state) => {\n\t\t\t\treturn {\n\t\t\t\t\t...baseStyles,\n\t\t\t\t\twidth: 0\n\t\t\t\t}\n\t\t\t},\n\t\t\t\tdropdownIndicator: (baseStyles, state) => {\n\t\t\t\treturn {\n\t\t\t\t\t...baseStyles,\n\t\t\t\t\tcolor: 'var(--airwpsync--color--primary)',\n\t\t\t\t\ttransform: state.selectProps.menuIsOpen ? 'scaleY(-1)' : '',\n\t\t\t\t\t':hover': {\n\t\t\t\t\t\tcolor: 'var(--airwpsync--color--primary-900)',\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\tclearIndicator: (baseStyles, state) => {\n\t\t\t\treturn {\n\t\t\t\t\t...baseStyles,\n\t\t\t\t\tcolor: 'var(--airwpsync--color--primary)',\n\t\t\t\t\t':hover': {\n\t\t\t\t\t\tcolor: 'var(--airwpsync--color--primary-900)',\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\tmenuList: (baseStyles, state) => {\n\t\t\t\treturn {\n\t\t\t\t\t...baseStyles,\n\t\t\t\t\tpaddingTop: '12px',\n\t\t\t\t\tpaddingBottom: '12px'\n\t\t\t\t}\n\t\t\t},\n\t\t\t\tmenu: (baseStyles, state) => {\n\t\t\t\treturn {\n\t\t\t\t\t...baseStyles,\n\t\t\t\t\tmarginTop: '-1px',\n\t\t\t\t\tborderTopLeftRadius: 0,\n\t\t\t\t\tborderTopRightRadius: 0\n\t\t\t\t}\n\t\t\t},\n\t\t\t\toption: (baseStyles, state) => {\n\n\t\t\t\treturn {\n\t\t\t\t\t...baseStyles,\n\t\t\t\t\tcolor: state.isSelected ?\n\t\t\t\t\t\t'#FFF'\n\t\t\t\t\t\t: (state.isDisabled ?\n\t\t\t\t\t\t\t'var(--airwpsync--color--primary-200)'\n\t\t\t\t\t\t\t: 'var(--airwpsync--color--primary-400)'),\n\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\ttheme: (theme) => ({\n\t\t\t...theme,\n\t\t\tborderRadius: 4,\n\t\t\tcolors: {\n\t\t\t\t...theme.colors,\n\t\t\t\tprimary25: 'var(--airwpsync--color--primary-50)',\n\t\t\t\tprimary50: 'var(--airwpsync--color--primary-200)',\n\t\t\t\tprimary75: 'var(--airwpsync--color--primary-300)',\n\t\t\t\tprimary: 'var(--airwpsync--color--primary)',\n\t\t\t},\n\t\t})\n\t};\n}\n\nconst selectAsyncPropsModifier = <\n\tOption,\n\tIsMulti extends boolean = false,\n\tGroup extends GroupBase<Option> = GroupBase<Option>\n>(props:Pick<SelectLabelProps, \"status\">):Pick<AsyncProps<Option, IsMulti, Group>, \"classNamePrefix\" | \"components\" | \"styles\" | \"theme\"> => {\n\treturn selectPropsModifier(props) as Pick<AsyncProps<Option, IsMulti, Group>, \"classNamePrefix\" | \"components\" | \"styles\" | \"theme\">;\n};\n"],"names":["_jsxs","_Fragment","_jsx"],"mappings":"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"}