{"version":3,"file":"mapping-row.js","sources":["../../../src/components/form/mapping-row/MappingRow.tsx"],"sourcesContent":["import React from \"react\";\nimport {MappingRowProps} from \"./MappingRow.types\";\nimport { v4 as uuidv4 } from 'uuid';\nimport {MappingOption} from \"../../../models/mapping/Mapping.types\";\n\nexport default function MappingRow({ texts, index, airtableFieldId, wordPressFieldId, fieldOptions, mappingManager, ...props }:MappingRowProps) {\n\n\tconst airtableFieldDisabled = Object.keys(mappingManager.airtableSelectFieldGroupsOptions).length === 0; // || loadingDatabasesAndPages;\n\tlet wordPressFieldConfig = {} as MappingOption;\n\tif (wordPressFieldId) {\n\t\twordPressFieldConfig = mappingManager.getWordPressFieldById(wordPressFieldId) ?? {};\n\t}\n\tconst airtableFieldChangedHandler = (e: React.FormEvent<HTMLSelectElement>) => {\n\t\tconst target = e?.target as HTMLSelectElement;\n\t\tmappingManager.updateAirtableField(index, target.value)\n\t};\n\n\tconst wordPressFieldChangedHandler = (e: React.FormEvent<HTMLSelectElement>) => {\n\t\tconst target = e?.target as HTMLSelectElement;\n\t\tmappingManager.updateWordPressField(index, target.value);\n\t};\n\n\tconst customFieldOptionChangedHandler = (e: React.FormEvent<HTMLInputElement>) => {\n\t\tconst target = e?.target as HTMLInputElement;\n\t\tmappingManager.updateFieldOption(index, 'name', target.value);\n\t};\n\n\tconst removeMappingRowHandler = () => {\n\t\tmappingManager.removeMappingRow(index)\n\t};\n\n\tconst renderCustomFieldOptions = () => {\n\t\treturn <div className=\"airwpsync-field form-required\">\n\t\t\t<label htmlFor={ \"customfield_\" + airtableFieldId }>\n\t\t\t\t<span>{ texts.custom_field }</span>\n\t\t\t\t<span className=\"airwpsync-required\" aria-hidden=\"true\"> *</span>\n\t\t\t\t<span className=\"screen-reader-text\">{ texts.required_field_indicator }</span>\n\t\t\t</label>\n\t\t\t<input\n\t\t\t\tid={\"customfield_\" + airtableFieldId}\n\t\t\t\tvalue={ fieldOptions.name ?? '' }\n\t\t\t\ttype=\"text\"\n\t\t\t\tname={\"customfield[\" + airtableFieldId + \"]\"}\n\t\t\t\tclassName=\"airwpsync-input regular-text ltr\"\n\t\t\t\tonChange={ customFieldOptionChangedHandler }\n\t\t\t/>\n\t\t</div>;\n\t};\n\n\treturn <tr { ...props }>\n\t\t<td>\n\t\t\t<div className=\"airwpsync-field form-required\">\n\t\t\t\t<label>\n\t\t\t\t\t<span>{ texts.airtable_field }</span>\n\t\t\t\t\t<span className=\"airwpsync-required\" aria-hidden=\"true\">*</span>\n\t\t\t\t\t<span className=\"screen-reader-text\">{ texts.required_field_indicator }</span>\n\t\t\t\t</label>\n\t\t\t\t<select name=\"airtable[]\"  className=\"airwpsync-input regular-text ltr\" value={ airtableFieldId } disabled={ airtableFieldDisabled } onChange={ airtableFieldChangedHandler }>\n\t\t\t\t\t{\n\t\t\t\t\t\tObject.keys(mappingManager.airtableSelectFieldGroupsOptions).map((groupKey) => {\n\t\t\t\t\t\t\tconst group = mappingManager.airtableSelectFieldGroupsOptions[groupKey];\n\t\t\t\t\t\t\tconst groupLabel = group.label ?? texts.fields;\n\t\t\t\t\t\t\treturn <optgroup key={uuidv4()} label={groupLabel}>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tgroup.options.map((f) => {\n\t\t\t\t\t\t\t\t\t\treturn <option key={uuidv4()} value={f.id}>{f.name}</option>\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</optgroup>;\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t</td>\n\t\t<td>\n\t\t\t<div className=\"airwpsync-field form-required\">\n\t\t\t\t<label>\n\t\t\t\t\t<span>{ texts.import_as }</span>\n\t\t\t\t\t<span className=\"airwpsync-required\" aria-hidden=\"true\">*</span>\n\t\t\t\t\t<span className=\"screen-reader-text\">{ texts.required_field_indicator }</span>\n\t\t\t\t</label>\n\t\t\t\t<select name=\"wordpress[]\" className=\"airwpsync-input regular-text ltr\" value={ wordPressFieldId } onChange={ wordPressFieldChangedHandler }>\n\t\t\t\t\t<option key=\"default\" value=\"\"></option>\n\t\t\t\t\t{\n\t\t\t\t\t\tObject.keys(mappingManager.wordPressSelectFieldsOptions[index]).map((groupKey) => {\n\t\t\t\t\t\t\tconst group = mappingManager.wordPressSelectFieldsOptions[index][groupKey];\n\t\t\t\t\t\t\treturn <optgroup key={ uuidv4() } label={ group.label }>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tgroup.options.map((option) => {\n\t\t\t\t\t\t\t\t\t\treturn <option key={ uuidv4() } value={ option.value } disabled={ !option.enabled }>{ option.label }</option>\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</optgroup>;\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t\t{ wordPressFieldConfig.notice ? <small>{ wordPressFieldConfig.notice }</small> : null }\n\t\t\t{ wordPressFieldId && wordPressFieldId.split('::')[1] === 'custom_field' ? renderCustomFieldOptions() : null }\n\t\t</td>\n\t\t<td className=\"airwpsync-c-mapping-row__actions\">\n\t\t\t<div className=\"airwpsync-c-mapping-row__btn-sort btn btn-sort dashicons-before dashicons-menu\">\n\t\t\t\t<span className=\"screen-reader-text\">{ texts.sort }</span>\n\t\t\t</div>\n\t\t\t<button type=\"button\" className=\"airwpsync-c-mapping-row__btn-remove btn btn-remove\" onClick={ removeMappingRowHandler }>\n\t\t\t\t<span className=\"btn-remove-close-icon\" aria-hidden=\"true\">&times;</span>\n\t\t\t\t<span className=\"screen-reader-text\">{ texts.remove }</span>\n\t\t\t</button>\n\t\t</td>\n\t</tr>;\n}\n"],"names":["_jsxs","_jsx","uuidv4"],"mappings":"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"}