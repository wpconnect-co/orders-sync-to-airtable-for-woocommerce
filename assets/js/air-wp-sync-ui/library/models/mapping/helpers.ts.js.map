{"version":3,"file":"helpers.ts.js","sources":["../../../src/models/mapping/helpers.ts"],"sourcesContent":["import {\n\tAirtableField,\n\tMapping,\n\tMappingGroupOption,\n\tMappingGroupOptions,\n\tMappingOption,\n\tWordPressField\n} from \"./Mapping.types\";\n\n\n/**\n *\n * @param {MappingGroupOptions} defaultMappingOptions Default mapping options.\n * @return WordPressField[]\n */\nexport function defaultMappingOptionsToWordPressField(defaultMappingOptions:MappingGroupOptions) {\n\treturn Object.keys(defaultMappingOptions).reduce(function (wordPressFields, mappingOptionKey ) {\n\t\tconst mappingOption:MappingGroupOption = defaultMappingOptions[mappingOptionKey];\n\t\treturn (wordPressFields.concat(mappingOption.options)) as WordPressField[];\n\t}, [] as WordPressField[]);\n}\n\nexport function getAirtableFieldById(airtableId:string, fields:AirtableField[]):AirtableField|undefined {\n\treturn fields.find(function(field) {\n\t\treturn field.id === airtableId;\n\t});\n}\n\nexport function getWordpressFieldById(wordPressId:string, fields:WordPressField[]):WordPressField|undefined {\n\treturn fields.find(function(field) {\n\t\treturn field.value === wordPressId;\n\t});\n}\n\n\n\n/**\n * Filter out invalid mapping fields.\n *\n * @param Mapping[] mapping Fields mapping.\n * @param AirtableField[] fields Airtable fields.\n * @returns Mapping[]\n */\nexport function checkValidAirtableFields(mapping:Mapping[], fields:AirtableField[]) {\n\treturn mapping.filter((field) => {\n\t\treturn !!getAirtableFieldById(field.airtable, fields);\n\t})\n}\n\n\n/**\n * Filter out invalid mapping fields.\n *\n * @param Mapping[] mapping Fields mapping.\n * @param WordPressField[] fields WordPress fields.\n * @returns Mapping[]\n */\nexport function checkValidWordPressFields(mapping:Mapping[], fields:WordPressField[]) {\n\treturn mapping.filter((field) => {\n\t\treturn field.wordpress === '' || !!getWordpressFieldById(field.wordpress, fields);\n\t})\n}\n"],"names":[],"mappings":"AAUA;;;;AAIG;AACG,SAAU,qCAAqC,CAAC,qBAAyC,EAAA;AAC9F,IAAA,OAAO,MAAM,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,MAAM,CAAC,UAAU,eAAe,EAAE,gBAAgB,EAAA;AAC3F,QAAA,MAAM,aAAa,GAAsB,qBAAqB,CAAC,gBAAgB,CAAC;QAChF,QAAQ,eAAe,CAAC,MAAM,CAAC,aAAa,CAAC,OAAO,CAAC;IACtD,CAAC,EAAE,EAAsB,CAAC;AAC3B;AAEM,SAAU,oBAAoB,CAAC,UAAiB,EAAE,MAAsB,EAAA;AAC7E,IAAA,OAAO,MAAM,CAAC,IAAI,CAAC,UAAS,KAAK,EAAA;AAChC,QAAA,OAAO,KAAK,CAAC,EAAE,KAAK,UAAU;AAC/B,IAAA,CAAC,CAAC;AACH;AAEM,SAAU,qBAAqB,CAAC,WAAkB,EAAE,MAAuB,EAAA;AAChF,IAAA,OAAO,MAAM,CAAC,IAAI,CAAC,UAAS,KAAK,EAAA;AAChC,QAAA,OAAO,KAAK,CAAC,KAAK,KAAK,WAAW;AACnC,IAAA,CAAC,CAAC;AACH;AAIA;;;;;;AAMG;AACG,SAAU,wBAAwB,CAAC,OAAiB,EAAE,MAAsB,EAAA;AACjF,IAAA,OAAO,OAAO,CAAC,MAAM,CAAC,CAAC,KAAK,KAAI;QAC/B,OAAO,CAAC,CAAC,oBAAoB,CAAC,KAAK,CAAC,QAAQ,EAAE,MAAM,CAAC;AACtD,IAAA,CAAC,CAAC;AACH;AAGA;;;;;;AAMG;AACG,SAAU,yBAAyB,CAAC,OAAiB,EAAE,MAAuB,EAAA;AACnF,IAAA,OAAO,OAAO,CAAC,MAAM,CAAC,CAAC,KAAK,KAAI;AAC/B,QAAA,OAAO,KAAK,CAAC,SAAS,KAAK,EAAE,IAAI,CAAC,CAAC,qBAAqB,CAAC,KAAK,CAAC,SAAS,EAAE,MAAM,CAAC;AAClF,IAAA,CAAC,CAAC;AACH;;;;"}